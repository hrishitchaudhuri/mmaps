(this["webpackJsonpmind-maps"]=this["webpackJsonpmind-maps"]||[]).push([[0],{38:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var i=n(4),s=n.n(i),a=n(15),o=n(9),r=n(10),c=n(6),l=n(7),h=n(11),u=n(8),d=n(0),b=n(2),j=n.n(b),p=n(14),f=n.n(p);n(38);var x=function(e){var t=Object(b.useState)(e.color),n=Object(r.a)(t,2),i=n[0],s=n[1],a={color:"white",backgroundColor:i,width:"100px",height:e.height?e.height:"30px",border:"none",borderRadius:"3px",margin:"5px"};return Object(d.jsx)("button",{className:"button",style:a,onClick:e.handleClick,onMouseEnter:function(){s(e.finalcolor)},onMouseLeave:function(){s(e.color)},children:e.text})},O=n(12),v=n(3),m=n(19),y=n.n(m),g=n(31),S=n.n(g);function T(e){var t=e.indexOf("p");return parseInt(e.slice(0,t))}var w=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var i;Object(c.a)(this,n),(i=t.call(this,e)).handleDrag=function(e,t){var n=i.state.deltaPosition,s=n.x,a=n.y;i.setState({deltaPosition:{x:s+t.deltaX,y:a+t.deltaY}})},i.handleSave=function(e){e.preventDefault();var t={NOTE_ID:this.props.id,ITEMS:this.state.messages,TITLE:this.state.title};console.log(t),y.a.post("http://localhost:8000/mapi",t).then((function(e){return console.log("[INFO] Notes posted to DB successfully."+e.text())})).catch((function(e){console.log("[ERR] "+e)}))},i.handleClear=function(e){e.preventDefault();var t={NOTE_ID:this.props.id};this.title_ref.value="",this.setState((function(e){return{items:[],messages:[],title:"",style:Object(O.a)(Object(O.a)({},e.style),{},{height:"150px"}),leeway:1}})),y.a.post("http://localhost:8000/mapi/delete",t).then((function(e){return console.log("[INFO] Note cleared successfully."+e.text())})).catch((function(e){console.log("[ERR] "+e)}))},i.handleSubmit=function(e){e.preventDefault();var t=this.inp_ref.value,n=this.title_ref.value;this.setState((function(e){return""!==t?{items:[].concat(Object(o.a)(e.items),[Object(d.jsx)("li",{children:""+t},e.items.length)]),messages:[].concat(Object(o.a)(e.messages),[t]),title:n}:e})),this.inp_ref.value=""},i.state={style:{position:"absolute",borderStyle:"solid",borderColor:"black",borderWidth:"2px",borderRadius:"5px",width:"280px",height:"150px",left:e.x+"px",top:e.y+"px",transform:"translateY(0)"},items:[],messages:[],title:"",diffX:0,diffY:0,dragging:!1,leeway:1},i.handleSubmit=i.handleSubmit.bind(Object(v.a)(i)),i.hideText=i.hideText.bind(Object(v.a)(i)),i.showText=i.showText.bind(Object(v.a)(i)),i.handleDrag=i.handleDrag.bind(Object(v.a)(i)),i.handleSave=i.handleSave.bind(Object(v.a)(i)),i.handleClear=i.handleClear.bind(Object(v.a)(i));var r={NOTE_ID:i.props.id},l=Object.keys(r).map((function(e){return e+"="+r[e]})).join("&");return fetch("http://localhost:8000/mapi/?"+l).then(function(){var e=Object(a.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,console.log(n),a=0,n&&n.TITLE&&n.ITEMS&&(i.setState({items:n.ITEMS.map((function(e){return Object(d.jsx)("li",{children:""+e},a++)})),messages:n.ITEMS,title:n.TITLE}),console.log("[INFO] Set State Successful."));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(console.log("[INFO] Successfully Loaded Data.")),i}return Object(l.a)(n,[{key:"hideText",value:function(){this.secref.style.visibility="hidden"}},{key:"showText",value:function(){this.secref.style.visibility="visible"}},{key:"componentDidUpdate",value:function(){this.state.items.length>=this.state.leeway&&this.setState((function(e){return{style:Object(O.a)(Object(O.a)({},e.style),{},{height:T(e.style.height)+20+"px"}),leeway:e.leeway+1}}))}},{key:"render",value:function(){var e=this;return Object(d.jsx)(S.a,{handle:".handle",bounds:"parent",children:Object(d.jsxs)("div",{style:this.state.style,ref:function(t){e.div_ref=t},children:[Object(d.jsx)("div",{id:this.props.id,className:"handle",style:{width:"100%",height:"20px",backgroundColor:"rgb(280, 280, 60)",position:"absolute",textAlign:"center"},onMouseEnter:this.hideText,onMouseLeave:this.showText,children:Object(d.jsx)("section",{ref:function(t){e.secref=t},children:"Click here to drag"})}),Object(d.jsx)("br",{}),Object(d.jsxs)("form",{style:{position:"absolute",top:"22px"},onSubmit:this.handleSubmit,children:[Object(d.jsx)("input",{type:"text",placeholder:"Title",defaultValue:this.state.title,style:{width:"100%"},ref:function(t){e.title_ref=t}}),Object(d.jsx)("input",{type:"text",ref:function(t){e.inp_ref=t}}),Object(d.jsx)("button",{type:"submit",className:"submit-button",children:"Add point"})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("ul",{style:{position:"relative",width:"100%",top:"35px"},children:[this.state.items," ",Object(d.jsx)("br",{})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(x,{style:{position:"relative",width:"100%",top:"100%"},color:"green",finalcolor:"rgb(0, 165, 0)",text:"Save",handleClick:this.handleSave}),Object(d.jsx)(x,{style:{position:"relative",width:"100%",top:"100%"},color:"green",finalcolor:"rgb(0, 165, 0)",text:"Clear",handleClick:this.handleClear})]})})}}]),n}(j.a.Component),E=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{id:"area",style:{position:"relative",left:"15px",width:"95vw",height:"900px",borderWidth:"2px",borderStyle:"solid",margin:"auto"},children:this.props.elems})}}]),n}(j.a.Component);function k(){var e=Object(b.useState)([]),t=Object(r.a)(e,2),n=t[0],i=t[1],c=Object(b.useState)(0),l=Object(r.a)(c,2),h=l[0],u=l[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)(E,{elems:n}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"row",height:"50px",alignItems:"center"},children:[Object(d.jsx)(x,{color:"blue",finalcolor:"rgb(40, 40, 255)",text:"Add Node",handleClick:function(){i((function(e){return[].concat(Object(o.a)(e),[Object(d.jsx)(w,{id:h,x:2,y:2},h)])})),u((function(e){return e+1}))}}),Object(d.jsx)(x,{color:"rgb(100, 0, 255)",finalcolor:"rgb(120, 50, 255)",text:"Search Titles",handleClick:function(){var e={TITLE:prompt("Enter Title:")},t=Object.keys(e).map((function(t){return t+"="+e[t]})).join("&");fetch("http://localhost:8000/mapi/search/?"+t).then(function(){var e=Object(a.a)(s.a.mark((function e(t){var n,i,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if((n=e.sent).length>0){for(i="YOUR SEARCH RETURNED : \n",a=0;a<n.length;a++)for(o=0;o<n[a].ITEMS.length;o++)i+="\t"+n[a].ITEMS[o]+"\n";alert(i)}else alert("No matches found.");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(console.log("[INFO] Successfully Loaded Data."))}})]})]})}var I=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsx)(k,{})})}}]),n}(j.a.Component);document.querySelector("html").style.scrollBehavior="smooth",document.getElementById("root").style.position="absolute",f.a.render(Object(d.jsx)(I,{}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.b0d4fa9e.chunk.js.map