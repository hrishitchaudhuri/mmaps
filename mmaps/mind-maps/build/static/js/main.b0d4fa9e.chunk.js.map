{"version":3,"sources":["Components/Button.js","Components/MMNote.js","index.js"],"names":["Button","props","useState","color","bgcolor","setBgColor","styles","backgroundColor","width","height","border","borderRadius","margin","className","style","onClick","handleClick","onMouseEnter","finalcolor","onMouseLeave","text","getIntPx","s","pInd","indexOf","parseInt","slice","MMNote","handleDrag","e","ui","state","deltaPosition","x","y","setState","deltaX","deltaY","handleSave","preventDefault","NOTE","NOTE_ID","this","id","ITEMS","messages","TITLE","title","console","log","axios","post","then","res","catch","err","handleClear","NOTE_del","title_ref","value","prevState","items","leeway","handleSubmit","msg","inp_ref","note_title","length","position","borderStyle","borderColor","borderWidth","left","top","transform","diffX","diffY","dragging","bind","hideText","showText","noteid","query","Object","keys","map","key","join","fetch","a","json","data","count","element","secref","visibility","handle","bounds","ref","r","div_ref","textAlign","onSubmit","type","placeholder","defaultValue","React","Component","MindMapArea","elems","MindMap","notes","setNotes","currkey","setKey","display","flexDirection","alignItems","prevNotes","prevKey","prompt","res_string","i","j","alert","App","document","querySelector","scrollBehavior","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.b0d4fa9e.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\n\r\n\r\nfunction Button(props){\r\n    const [ bgcolor, setBgColor ] = useState(props.color);\r\n    const styles = {\r\n        color: \"white\", \r\n        backgroundColor: bgcolor, \r\n        width: \"100px\",\r\n        height: (props.height)? props.height : \"30px\", \r\n        border: \"none\",\r\n        borderRadius: \"3px\",\r\n        margin:\"5px\"\r\n    };\r\n    return (<button className=\"button\" style={styles} onClick={props.handleClick} onMouseEnter={()=>{setBgColor(props.finalcolor)}} onMouseLeave={()=>{setBgColor(props.color)}}>\r\n        {props.text}\r\n    </button>);\r\n}\r\n\r\nexport default Button;","import React from 'react';\r\nimport axios from 'axios';\r\nimport Draggable from 'react-draggable';\r\nimport Button from './Button';\r\n\r\nfunction getIntPx(s){\r\n    let pInd = s.indexOf('p');\r\n    return parseInt(s.slice(0, pInd));\r\n}\r\n\r\nclass MMNote extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            \r\n            style: {\r\n                position: \"absolute\",\r\n                borderStyle: \"solid\",\r\n                borderColor: \"black\",\r\n                borderWidth: \"2px\",\r\n                borderRadius: \"5px\",\r\n                width: \"280px\",\r\n                height: \"150px\",\r\n                left: props.x + \"px\",\r\n                top: props.y + \"px\",\r\n                transform: \"translateY(0)\",\r\n            },\r\n            items: [],\r\n            messages: [],\r\n            title: '',\r\n            diffX: 0,\r\n            diffY: 0,\r\n            dragging: false,\r\n            leeway: 1\r\n        };\r\n        \r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.hideText = this.hideText.bind(this);\r\n        this.showText = this.showText.bind(this);\r\n        this.handleDrag = this.handleDrag.bind(this);\r\n        this.handleSave = this.handleSave.bind(this);\r\n        this.handleClear = this.handleClear.bind(this);\r\n\r\n        var noteid = {\r\n            'NOTE_ID':this.props.id\r\n        };\r\n\r\n        var query = Object.keys(noteid).map(key => key + '=' + noteid[key]).join('&');\r\n        var req_url = 'http://localhost:8000/mapi/?' + query;\r\n\r\n        fetch(req_url)\r\n            .then(async res=> {\r\n                const data = await res.json();\r\n\r\n                console.log(data);\r\n                \r\n                var count = 0;\r\n                if (data && data.TITLE && data.ITEMS) {\r\n                    this.setState({\r\n                        items: data.ITEMS.map(element => <li key={count++}>{\"\" + element}</li>),\r\n                        messages: data.ITEMS,\r\n                        title: data.TITLE\r\n                    })\r\n                    console.log(\"[INFO] Set State Successful.\");\r\n                }\r\n            })\r\n            .then(console.log(\"[INFO] Successfully Loaded Data.\"));\r\n    }\r\n\r\n    handleDrag = (e, ui) => {\r\n        const {x, y} = this.state.deltaPosition;\r\n        this.setState({\r\n          deltaPosition: {\r\n            x: x + ui.deltaX,\r\n            y: y + ui.deltaY,\r\n          }\r\n        });\r\n    };\r\n\r\n    handleSave = function(e) {\r\n        e.preventDefault();\r\n        const NOTE_ID = this.props.id;\r\n        const ITEMS = this.state.messages;\r\n        const TITLE = this.state.title;\r\n\r\n        const NOTE = {\r\n            NOTE_ID, \r\n            ITEMS, \r\n            TITLE\r\n        };\r\n\r\n        console.log(NOTE);\r\n        axios\r\n            .post('http://localhost:8000/mapi', NOTE)\r\n            .then((res)=>console.log('[INFO] Notes posted to DB successfully.' + res.text()))\r\n            .catch(err => {\r\n                console.log(\"[ERR] \" + err);\r\n            });\r\n    }\r\n    \r\n    handleClear = function(e) {\r\n        e.preventDefault();\r\n        const NOTE_ID = this.props.id;\r\n\r\n        const NOTE_del = {\r\n            NOTE_ID\r\n        };\r\n\r\n        this.title_ref.value = '';\r\n\r\n        this.setState(prevState => {\r\n            return {\r\n                items: [],\r\n                messages: [],\r\n                title: '',\r\n                style: {\r\n                    ...prevState.style,\r\n                    height: \"150px\"\r\n                }, \r\n                leeway: 1\r\n            }\r\n        });\r\n\r\n        axios\r\n            .post('http://localhost:8000/mapi/delete', NOTE_del)\r\n            .then((res)=>console.log('[INFO] Note cleared successfully.' + res.text()))\r\n            .catch(err => {\r\n                console.log('[ERR] ' + err);\r\n            });\r\n    }\r\n\r\n    handleSubmit = function(e){\r\n        e.preventDefault();\r\n        const msg = this.inp_ref.value;\r\n        const note_title = this.title_ref.value;\r\n\r\n        this.setState(prevState => {\r\n            if(msg !== \"\")\r\n            {\r\n                return {\r\n                    items: [...prevState.items, <li key={prevState.items.length}>{\"\" + msg}</li>],\r\n                    messages: [...prevState.messages, msg],\r\n                    title: note_title\r\n                }\r\n            }\r\n            else{\r\n                return prevState;\r\n            }\r\n        });\r\n        this.inp_ref.value = \"\";\r\n    }\r\n\r\n    hideText(){\r\n        this.secref.style.visibility = \"hidden\";\r\n    }\r\n\r\n    showText(){\r\n        this.secref.style.visibility = \"visible\";\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        if(this.state.items.length >= this.state.leeway){\r\n            this.setState(prevState=>{\r\n                return {\r\n                    style:{\r\n                        ...prevState.style,\r\n                        height: (getIntPx(prevState.style.height) + 20) + \"px\"\r\n                    },\r\n                    leeway: prevState.leeway + 1\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return (<Draggable handle=\".handle\" bounds=\"parent\">\r\n        <div style={this.state.style} ref={r => {this.div_ref = r;}} >\r\n            <div id={this.props.id} className=\"handle\"\r\n                style={{width: \"100%\", height:\"20px\", backgroundColor:\"rgb(280, 280, 60)\", position:\"absolute\", textAlign:\"center\"}} \r\n                onMouseEnter={this.hideText}\r\n                onMouseLeave={this.showText}\r\n            >\r\n                <section ref={a=>{this.secref = a;}} >Click here to drag</section>\r\n            </div>\r\n            <br />\r\n            <form style={{position:\"absolute\", top:\"22px\"}} onSubmit={this.handleSubmit}>\r\n                <input type=\"text\" placeholder=\"Title\" defaultValue={this.state.title} style={{width:\"100%\"}} ref={r => {this.title_ref = r;}}></input>\r\n                <input type=\"text\" ref={r => {this.inp_ref = r;}}></input>\r\n                <button type=\"submit\" className=\"submit-button\">Add point</button>\r\n            </form>\r\n            <br/>\r\n            <ul style={{position:\"relative\",width:\"100%\", top:\"35px\"}}>\r\n                {this.state.items} <br/>\r\n            </ul>\r\n            <br/><br/>\r\n            <Button style={{position:\"relative\", width:\"100%\", top:\"100%\"}} color=\"green\" finalcolor=\"rgb(0, 165, 0)\" text=\"Save\" handleClick={this.handleSave} />\r\n            <Button style={{position:\"relative\", width:\"100%\", top:\"100%\"}} color=\"green\" finalcolor=\"rgb(0, 165, 0)\" text=\"Clear\" handleClick={this.handleClear} />\r\n        </div>\r\n        </Draggable>);\r\n    }\r\n}\r\n\r\nexport default MMNote;","import React, { useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport Button from './Components/Button';\r\nimport MMNote from './Components/MMNote';\r\n\r\nclass MindMapArea extends React.Component{\r\n    render(){\r\n        return (<div id=\"area\" style={{position:\"relative\", left:\"15px\", width:\"95vw\", height:\"900px\", borderWidth: \"2px\", borderStyle: \"solid\", margin: \"auto\"}}>\r\n            {this.props.elems}\r\n        </div>);\r\n    }\r\n}\r\n\r\nfunction MindMap(){\r\n\r\n    const [ notes, setNotes ] = useState([]);\r\n    const [ currkey, setKey ] = useState(0);\r\n\r\n    function handleclick(){\r\n        setNotes(prevNotes => [...prevNotes, <MMNote id={currkey} key={currkey} x={2} y={2} />]);\r\n        setKey(prevKey => prevKey + 1);\r\n    }\r\n\r\n    function handleSearch() {\r\n        var result = prompt(\"Enter Title:\");\r\n\r\n        var title = {\r\n            'TITLE':result\r\n        };\r\n\r\n        var query = Object.keys(title).map(key => key + '=' + title[key]).join('&');\r\n        var req_url = 'http://localhost:8000/mapi/search/?' + query;\r\n\r\n        fetch(req_url)\r\n            .then(async res=> {\r\n                const data = await res.json();\r\n                \r\n                if (data.length > 0) {\r\n                    var res_string = 'YOUR SEARCH RETURNED : \\n'\r\n                    for (let i=0; i < data.length; i++) {\r\n                        for (let j=0; j < data[i].ITEMS.length; j++) {\r\n                            res_string += '\\t' + data[i].ITEMS[j] + '\\n';\r\n                        }\r\n                    }\r\n                    alert(res_string);\r\n                }\r\n\r\n                else {\r\n                    alert(\"No matches found.\");\r\n                }\r\n            })\r\n            .then(console.log(\"[INFO] Successfully Loaded Data.\"));\r\n    }\r\n\r\n    return (<div>\r\n        <MindMapArea elems={notes}/>\r\n        <br />\r\n        <div style={{display:\"flex\", flexDirection:\"row\", height:\"50px\", alignItems:\"center\"}}>\r\n            <Button color=\"blue\" finalcolor=\"rgb(40, 40, 255)\" text=\"Add Node\" handleClick={handleclick}/>\r\n            <Button color=\"rgb(100, 0, 255)\" finalcolor=\"rgb(120, 50, 255)\" text=\"Search Titles\" handleClick={handleSearch} />\r\n        </div>\r\n    </div>);\r\n}\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <MindMap />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\ndocument.querySelector('html').style.scrollBehavior = \"smooth\";\r\ndocument.getElementById('root').style.position = \"absolute\";\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}